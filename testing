<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcelo D'Ávila - Soluções Premium de Automação</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --luxury-black: #000000;
            --deep-black: #111111;
            --charcoal: #1a1a1a;
            --dark-gray: #2d2d2d;
            --luxury-gold: #d4af37;
            --bright-gold: #ffd700;
            --pale-gold: #f5e6a8;
            --white: #ffffff;
            --gray-50: #f8fafc;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-600: #475569;
            --gray-700: #334155;
            --gray-900: #0f172a;
            --gradient-primary: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
            --gradient-gold: linear-gradient(135deg, #d4af37 0%, #ffd700 100%);
            --gradient-luxury: linear-gradient(135deg, #000000 0%, #2d2d2d 50%, #000000 100%);
            --shadow-luxury: 0 8px 32px rgba(0, 0, 0, 0.3);
            --shadow-gold: 0 8px 24px rgba(212, 175, 55, 0.2);
            --shadow-card: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--gradient-luxury);
            color: var(--white);
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        /* Luxury Background Effects */
        .background-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .background-effects::before {
            content: '';
            position: absolute;
            top: -20%;
            right: -20%;
            width: 30%;
            height: 30%;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.03) 0%, transparent 70%);
        }

        .background-effects::after {
            content: '';
            position: absolute;
            bottom: -20%;
            left: -20%;
            width: 30%;
            height: 30%;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.02) 0%, transparent 70%);
        }

        /* Remove animações desnecessárias e mantém clean */
        
        @keyframes float-primary {
            /* Removido - sem animações flutuantes */
        }

        @keyframes float-secondary {
            /* Removido - sem animações flutuantes */
        }

        .container {
            max-width: 420px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 1;
            width: 100%;
        }

        /* Luxury Header */
        .header {
            text-align: center;
            padding: 40px 30px 35px;
            background: var(--white);
            margin: 20px 0 30px;
            border-radius: 16px;
            box-shadow: var(--shadow-luxury);
            border: 1px solid var(--gray-200);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-gold);
        }

        .name {
            font-size: 36px;
            font-weight: 900;
            background: var(--gradient-gold);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 25px;
            letter-spacing: -1px;
        }

        .story-text {
            font-size: 17px;
            font-weight: 500;
            color: var(--gray-700);
            line-height: 1.7;
            margin-bottom: 25px;
            text-align: left;
        }

        .story-highlight {
            color: var(--luxury-gold);
            font-weight: 700;
        }

        .story-emphasis {
            font-weight: 700;
            color: var(--gray-900);
        }

        .location-badge {
            background: var(--gradient-gold);
            color: var(--luxury-black);
            padding: 14px 24px;
            border-radius: 25px;
            font-size: 15px;
            font-weight: 600;
            display: inline-block;
            box-shadow: var(--shadow-gold);
        }

        @keyframes badge-glow {
            0%, 100% { 
                transform: translateY(0);
                box-shadow: var(--shadow-floating);
            }
            50% { 
                transform: translateY(-2px);
                box-shadow: 0 25px 50px -8px rgba(99, 102, 241, 0.3);
            }
        }

        /* Luxury Services */
        .services {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 40px;
        }

        .service-card {
            background: var(--white);
            border-radius: 16px;
            padding: 30px 25px;
            box-shadow: var(--shadow-card);
            border: 1px solid var(--gray-200);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .service-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-luxury);
            border-color: var(--luxury-gold);
        }

        .service-number {
            background: var(--gradient-gold);
            color: var(--luxury-black);
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 18px;
            margin-bottom: 20px;
        }

        .service-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .service-description {
            font-size: 15px;
            color: var(--gray-600);
            margin-bottom: 18px;
            line-height: 1.6;
        }

        .service-price {
            font-size: 32px;
            font-weight: 900;
            background: var(--gradient-gold);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .service-installments {
            font-size: 13px;
            color: var(--gray-600);
            font-weight: 500;
        }

        /* Luxury Chat Bot */
        .chat-bot {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 90%;
            max-width: 400px;
            background: var(--white);
            border-radius: 16px;
            box-shadow: var(--shadow-luxury);
            transform: translateY(100%);
            transition: all 0.4s ease;
            z-index: 1000;
            border: 1px solid var(--gray-200);
            overflow: hidden;
        }

        .chat-bot.open {
            transform: translateY(0);
        }

        .chat-header {
            background: var(--gradient-luxury);
            color: var(--white);
            padding: 25px 20px;
            position: relative;
        }

        .chat-avatar {
            width: 50px;
            height: 50px;
            background: var(--gradient-gold);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 15px;
            color: var(--luxury-black);
        }

        .chat-avatar::after {
            content: '';
            position: absolute;
            top: -5px;
            right: -5px;
            width: 15px;
            height: 15px;
            background: var(--luxury-gold);
            border-radius: 50%;
            border: 3px solid var(--white);
        }

        .chat-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--white);
        }

        .chat-subtitle {
            font-size: 15px;
            opacity: 0.9;
            font-weight: 500;
            color: var(--pale-gold);
        }

        .close-chat {
            position: absolute;
            top: 20px;
            right: 25px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--white);
            font-size: 24px;
            cursor: pointer;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .close-chat:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .chat-body {
            padding: 25px;
            max-height: 65vh;
            overflow-y: auto;
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            color: var(--luxury-gold);
            font-size: 15px;
            font-weight: 500;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--luxury-gold);
            border-radius: 50%;
            animation: typing-bounce 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing-bounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-8px); }
        }

        .chat-message {
            font-size: 16px;
            line-height: 1.6;
            color: var(--gray-900);
            margin-bottom: 20px;
            min-height: 50px;
            font-weight: 500;
        }

        .chat-input {
            width: 100%;
            padding: 16px 18px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            font-size: 16px;
            margin-bottom: 20px;
            transition: all 0.2s ease;
            font-family: inherit;
            font-weight: 500;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--luxury-gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        .chat-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .chat-btn {
            background: var(--gray-50);
            border: 2px solid var(--gray-200);
            color: var(--gray-700);
            padding: 16px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .chat-btn:hover {
            background: var(--luxury-black);
            color: var(--white);
            border-color: var(--luxury-gold);
            transform: translateY(-2px);
            box-shadow: var(--shadow-gold);
        }

        .chat-btn.primary {
            background: var(--gradient-gold);
            color: var(--luxury-black);
            border-color: var(--luxury-gold);
            font-weight: 700;
        }

        .chat-btn.primary:hover {
            background: var(--luxury-black);
            color: var(--luxury-gold);
            border-color: var(--luxury-gold);
        }

        /* Voice Controls Luxury */
        .voice-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .voice-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.3);
            color: var(--white);
            padding: 10px 14px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .voice-btn:hover {
            background: rgba(212, 175, 55, 0.2);
        }

        .voice-btn.active {
            background: var(--luxury-gold);
            color: var(--luxury-black);
        }

        /* Floating Buttons Luxury */
        .floating-btn {
            position: fixed;
            bottom: 25px;
            width: 65px;
            height: 65px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            text-decoration: none;
            box-shadow: var(--shadow-luxury);
            transition: all 0.3s ease;
            z-index: 999;
            border: 2px solid transparent;
        }

        .whatsapp-btn {
            left: 25px;
            background: #25D366;
            color: var(--white);
        }

        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-luxury);
        }

        .chat-trigger {
            right: 25px;
            background: var(--gradient-gold);
            color: var(--luxury-black);
        }

        .chat-trigger:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-gold);
        }

        .floating-btn:hover {
            transform: translateY(-2px);
        }

        /* Responsive Luxury */
        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }

            .header {
                margin: 15px 0 25px;
                padding: 30px 20px 25px;
                border-radius: 12px;
            }

            .name {
                font-size: 28px;
                margin-bottom: 20px;
            }

            .story-text {
                font-size: 16px;
                margin-bottom: 20px;
            }

            .location-badge {
                font-size: 13px;
                padding: 12px 18px;
                border-radius: 20px;
            }

            .services {
                gap: 18px;
                margin-bottom: 30px;
            }

            .service-card {
                padding: 24px 20px;
                margin: 0 5px;
                border-radius: 12px;
            }

            .service-number {
                width: 36px;
                height: 36px;
                font-size: 16px;
                margin-bottom: 16px;
            }

            .service-title {
                font-size: 18px;
                margin-bottom: 10px;
            }

            .service-description {
                font-size: 14px;
                margin-bottom: 16px;
            }

            .service-price {
                font-size: 28px;
            }

            .service-installments {
                font-size: 12px;
            }

            .chat-bot {
                width: calc(100% - 20px);
                bottom: 10px;
                right: 10px;
                border-radius: 12px;
            }

            .chat-header {
                padding: 20px 18px;
            }

            .chat-avatar {
                width: 45px;
                height: 45px;
                font-size: 20px;
                margin-bottom: 12px;
            }

            .chat-title {
                font-size: 18px;
            }

            .chat-subtitle {
                font-size: 14px;
            }

            .chat-body {
                padding: 20px 18px;
            }

            .chat-message {
                font-size: 15px;
                margin-bottom: 18px;
            }

            .chat-input {
                padding: 14px 16px;
                font-size: 16px;
                margin-bottom: 18px;
                border-radius: 10px;
            }

            .chat-btn {
                padding: 14px 18px;
                border-radius: 10px;
                font-size: 14px;
            }

            .floating-btn {
                width: 60px;
                height: 60px;
                font-size: 24px;
                border-radius: 10px;
            }

            .whatsapp-btn {
                bottom: 15px;
                left: 15px;
            }

            .chat-trigger {
                bottom: 15px;
                right: 15px;
            }
        }

        @media (max-width: 360px) {
            .container {
                padding: 0 8px;
            }

            .header {
                padding: 25px 15px 20px;
                margin: 10px 0 20px;
            }

            .name {
                font-size: 26px;
                margin-bottom: 18px;
            }

            .story-text {
                font-size: 15px;
                margin-bottom: 18px;
            }

            .location-badge {
                font-size: 12px;
                padding: 8px 14px;
            }

            .service-card {
                padding: 18px 15px;
                margin: 0 3px;
            }

            .service-title {
                font-size: 16px;
            }

            .service-price {
                font-size: 24px;
            }

            .chat-message {
                font-size: 14px;
            }

            .chat-input {
                font-size: 15px;
                padding: 12px 14px;
            }
        }

        @media (min-width: 768px) {
            .container {
                max-width: 520px;
                padding: 0 30px;
            }

            .chat-bot {
                width: 420px;
                bottom: 30px;
                right: 30px;
            }

            .floating-btn {
                bottom: 30px;
            }

            .whatsapp-btn {
                left: 30px;
            }

            .chat-trigger {
                right: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="background-effects"></div>
    
    <div class="container">
        <!-- Premium Header -->
        <div class="header">
            <h1 class="name">MARCELO D'ÁVILA</h1>
            <div class="story-text">
                <strong>"Se Você É da CLT, Eu Também Era"</strong><br><br>
                De supervisor com salário alto a dono do meu tempo.<br>
                Hoje ganho mais com <span class="story-highlight">automações, sites ultra rápidos e links inteligentes</span> que trabalham por mim 24h por dia.<br><br>
                Se eu saí da zona de conforto e mudei de vida…<br>
                <span class="story-emphasis">"O que te impede de fazer o mesmo?"</span>
            </div>
            <div class="location-badge" id="location-info">
                📍 Detectando sua localização...
            </div>
        </div>

        <!-- Luxury Services -->
        <div class="services">
            <div class="service-card" onclick="redirectToProduct(1)">
                <div class="service-number">1</div>
                <div class="service-title">Sistema de Automação WhatsApp Business</div>
                <div class="service-description">Chatbot inteligente com IA, sequências automáticas, integração CRM e relatórios avançados</div>
                <div class="service-price">R$ 497</div>
                <div class="service-installments">ou 12x de R$ 41,42 sem juros</div>
            </div>

            <div class="service-card" onclick="redirectToProduct(2)">
                <div class="service-number">2</div>
                <div class="service-title">Website Ultra Rápido + CDN Global</div>
                <div class="service-description">Site profissional com tecnologia Netflix, carregamento em 0.3s, SEO otimizado e hospedagem premium</div>
                <div class="service-price">R$ 1.497</div>
                <div class="service-installments">ou 12x de R$ 124,75 sem juros</div>
            </div>

            <div class="service-card" onclick="redirectToProduct(3)">
                <div class="service-number">3</div>
                <div class="service-title">Consultoria VIP: Automação Completa</div>
                <div class="service-description">Implementação completa de automações, WhatsApp + Site + Email Marketing + Funis de Venda</div>
                <div class="service-price">R$ 2.997</div>
                <div class="service-installments">ou 12x de R$ 249,75 sem juros</div>
            </div>
        </div>
    </div>

    <!-- Ultra Premium Chat Bot -->
    <div class="chat-bot" id="chat-bot">
        <div class="chat-header">
            <button class="close-chat" onclick="closeChat()">×</button>
            <div class="chat-avatar">🤖</div>
            <div class="chat-title">IA do Marcelo</div>
            <div class="chat-subtitle">Online 24h • Resposta instantânea</div>
            <div class="voice-controls">
                <button class="voice-btn active" id="voice-toggle" onclick="toggleVoice()">🔊 Voz</button>
                <button class="voice-btn" onclick="changeVoice()">👤 Narrador</button>
                <button class="voice-btn" onclick="changeSpeed()">⚡ Velocidade</button>
            </div>
        </div>
        <div class="chat-body">
            <div class="typing-indicator" id="typing">
                Digitando resposta personalizada
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            </div>
            <div class="chat-message" id="chat-message">
                Oi! 👋 Qual seu nome? Vou descobrir exatamente onde você está e apresentar nossas soluções premium de automação personalizadas para seu negócio!
            </div>
            <input type="text" class="chat-input" id="user-name" placeholder="Digite seu primeiro nome aqui..." maxlength="25">
            <div class="chat-buttons" id="chat-buttons">
                <button class="chat-btn primary" onclick="startChat()">🚀 Começar Conversa Personalizada</button>
                <button class="chat-btn" onclick="skipChat()">👀 Só Dar Uma Olhada</button>
            </div>
        </div>
    </div>

    <!-- Premium Floating Buttons -->
    <a href="https://wa.me/5511999999999" class="floating-btn whatsapp-btn" target="_blank">📱</a>
    <div class="floating-btn chat-trigger" id="chat-trigger" onclick="openChat()">💬</div>

    <script>
        let voiceEnabled = true;
        let currentVoice = 0;
        let voiceSpeed = 1.2;
        let availableVoices = [];
        let userName = '';
        let userCity = '';
        let conversationStep = 0;
        let chatOpen = false;

        function initVoices() {
            availableVoices = speechSynthesis.getVoices().filter(voice => 
                voice.lang.includes('pt-BR') || voice.lang.includes('pt') || 
                voice.name.includes('português') || voice.name.includes('Brazilian')
            );
            
            if (availableVoices.length === 0) {
                availableVoices = speechSynthesis.getVoices().filter(voice => 
                    voice.lang.includes('en-US')
                ).slice(0, 3);
            }
            
            if (availableVoices.length === 0) {
                availableVoices = speechSynthesis.getVoices().slice(0, 5);
            }
        }

        function speak(text) {
            if (!voiceEnabled || !text) return;
            
            speechSynthesis.cancel();
            
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            
            sentences.forEach((sentence, index) => {
                setTimeout(() => {
                    const utterance = new SpeechSynthesisUtterance(sentence.trim());
                    
                    if (availableVoices.length > 0) {
                        utterance.voice = availableVoices[currentVoice % availableVoices.length];
                    }
                    
                    utterance.rate = voiceSpeed;
                    utterance.pitch = 1.0;
                    utterance.volume = 0.9;
                    
                    if (sentence.includes('?')) {
                        utterance.pitch = 1.1;
                    } else if (sentence.includes('!')) {
                        utterance.pitch = 1.05;
                    }
                    
                    speechSynthesis.speak(utterance);
                }, index * 150);
            });
        }

        function typeMessage(text, callback) {
            const messageEl = document.getElementById('chat-message');
            const typingEl = document.getElementById('typing');
            
            typingEl.style.display = 'flex';
            messageEl.textContent = '';
            
            setTimeout(() => {
                typingEl.style.display = 'none';
                let i = 0;
                const typeInterval = setInterval(() => {
                    messageEl.textContent += text[i];
                    i++;
                    
                    if (i >= text.length) {
                        clearInterval(typeInterval);
                        if (callback) callback();
                        setTimeout(() => speak(text), 400);
                    }
                }, 35);
            }, 2000);
        }

        function toggleVoice() {
            voiceEnabled = !voiceEnabled;
            const btn = document.getElementById('voice-toggle');
            btn.textContent = voiceEnabled ? '🔇 Mudo' : '🔊 Voz';
            btn.classList.toggle('active', voiceEnabled);
            
            if (voiceEnabled) {
                speak('Voz ativada! Agora posso falar com você de forma natural!');
            } else {
                speechSynthesis.cancel();
            }
        }

        function changeVoice() {
            if (availableVoices.length > 0) {
                currentVoice = (currentVoice + 1) % availableVoices.length;
                if (voiceEnabled) {
                    speak('Voz alterada! Como está ficando essa nova voz?');
                }
            }
        }

        function changeSpeed() {
            const speeds = [0.8, 1.0, 1.2, 1.5];
            const speedNames = ['Devagar', 'Normal', 'Rápido', 'Turbo'];
            const currentIndex = speeds.indexOf(voiceSpeed);
            const nextIndex = (currentIndex + 1) % speeds.length;
            
            voiceSpeed = speeds[nextIndex];
            
            const speedBtn = document.querySelector('.voice-btn:last-child');
            speedBtn.textContent = `⚡ ${speedNames[nextIndex]}`;
            
            if (voiceEnabled) {
                speak(`Velocidade alterada para ${speedNames[nextIndex]}. Perfeito!`);
            }
        }

        async function getLocationData() {
            try {
                let cidade = "Local Desconhecido";
                let estado = "";
                let operadora = "";
                
                try {
                    const response1 = await fetch('https://ipinfo.io?token=50aa9ee780c6f0');
                    const data1 = await response1.json();
                    if (data1.city) {
                        cidade = data1.city;
                        estado = data1.region || "";
                        operadora = data1.org || "";
                        
                        if (operadora.toLowerCase().includes('vivo')) {
                            operadora = "Vivo";
                        } else if (operadora.toLowerCase().includes('claro')) {
                            operadora = "Claro";
                        } else if (operadora.toLowerCase().includes('tim')) {
                            operadora = "TIM";
                        } else if (operadora.toLowerCase().includes('oi')) {
                            operadora = "Oi";
                        } else {
                            operadora = "sua operadora";
                        }
                    }
                } catch (e) {
                    try {
                        const response2 = await fetch('https://get.geojs.io/v1/ip/geo.json');
                        const data2 = await response2.json();
                        if (data2.city) {
                            cidade = data2.city;
                            estado = data2.region || "";
                        }
                    } catch (e2) {
                        const cidades = ["São Paulo", "Rio de Janeiro", "Belo Horizonte", "Salvador", "Brasília", "Fortaleza", "Manaus", "Curitiba", "Recife", "Porto Alegre"];
                        cidade = cidades[Math.floor(Math.random() * cidades.length)];
                        estado = "SP";
                    }
                    const operadoras = ["Vivo", "Claro", "TIM", "Oi"];
                    operadora = operadoras[Math.floor(Math.random() * operadoras.length)];
                }

                userCity = cidade;
                window.userEstado = estado;
                window.userOperadora = operadora;

                const persuasoes = [
                    "pronto para sair da CLT?",
                    "que tal ter automações trabalhando 24h?", 
                    "interessado em sites ultra rápidos com CDN?",
                    "pronto para vender mundialmente?",
                    "que tal usar tecnologia da Netflix?",
                    "quer trabalhar enquanto dorme?",
                    "pronto para ser dono do seu tempo?"
                ];

                const persuasao = persuasoes[Math.floor(Math.random() * persuasoes.length)];
                const locationInfo = document.getElementById('location-info');
                locationInfo.textContent = `📍 ${cidade} • ${persuasao}`;

            } catch (error) {
                userCity = "Local Desconhecido";
                const locationInfo = document.getElementById('location-info');
                locationInfo.textContent = `📍 Visitante • pronto para sair da CLT?`;
            }
        }

        function updateLocationWithName(nome) {
            const persuasoes = [
                "pronto para sair da CLT?",
                "que tal ter automações trabalhando 24h?",
                "interessado em sites ultra rápidos com CDN?",
                "pronto para vender mundialmente?",
                "que tal usar tecnologia da Netflix?",
                "quer trabalhar enquanto dorme?",
                "pronto para ser dono do seu tempo?"
            ];
            const persuasao = persuasoes[Math.floor(Math.random() * persuasoes.length)];
            
            const locationInfo = document.getElementById('location-info');
            locationInfo.textContent = `📍 ${nome} de ${userCity} • ${persuasao}`;
            
            // Scroll suave para o topo da página
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        function openChat() {
            if (chatOpen) return;
            chatOpen = true;
            document.getElementById('chat-bot').classList.add('open');
            document.getElementById('chat-trigger').style.display = 'none';
            
            setTimeout(() => {
                speak('Oi! Sou a IA do Marcelo. Qual seu nome?');
            }, 600);
        }

        function closeChat() {
            chatOpen = false;
            document.getElementById('chat-bot').classList.remove('open');
            document.getElementById('chat-trigger').style.display = 'flex';
            speechSynthesis.cancel();
        }

        function startChat() {
            const nameInput = document.getElementById('user-name');
            userName = nameInput.value.trim();
            
            if (!userName) {
                typeMessage('Opa! Preciso do seu nome para criar uma proposta PERSONALIZADA e IRRESISTÍVEL só para você! Digite aí! 😊');
                return;
            }

            updateLocationWithName(userName);
            conversationStep = 1;
            
            const hoje = new Date();
            const hora = hoje.getHours();
            const minutos = hoje.getMinutes();
            
            const cumprimento = hora >= 5 && hora < 12 ? "Bom dia" : 
                             hora >= 12 && hora < 18 ? "Boa tarde" : "Boa noite";

            const diaSemana = hoje.getDay();
            const diasNomes = ['domingo', 'segunda-feira', 'terça-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sábado'];
            const nomeDia = diasNomes[diaSemana];
            
            let diaTexto = "";
            if (diaSemana === 1 || diaSemana === 2) {
                diaTexto = "comecinho de semana";
            } else if (diaSemana === 3) {
                diaTexto = "meio de semana";
            } else if (diaSemana === 4) {
                diaTexto = "está chegando final de semana";
            } else if (diaSemana === 5) {
                diaTexto = "sextouu";
            } else if (diaSemana === 6) {
                diaTexto = "fim de semana, dia de comemorar";
            } else if (diaSemana === 0) {
                diaTexto = "primeiro dia dessa semana";
            }

            // Clima como no código fornecido
            const climas = [
                { temp: 18, desc: "fresco" },
                { temp: 22, desc: "agradável" },
                { temp: 25, desc: "quente" },
                { temp: 19, desc: "fresquinho" },
                { temp: 23, desc: "gostoso" },
                { temp: 20, desc: "ameno" },
                { temp: 24, desc: "quentinho" },
                { temp: 21, desc: "bom" }
            ];
            const clima = climas[Math.floor(Math.random() * climas.length)];

            // Detectar dispositivo como no código
            const userAgent = navigator.userAgent;
            let dispositivo = "dispositivo";
            if (userAgent.indexOf('iPhone') > -1) {
                dispositivo = "iPhone";
            } else if (userAgent.indexOf('Samsung') > -1) {
                dispositivo = "Samsung";
            } else if (userAgent.indexOf('Android') > -1) {
                dispositivo = "Android";
            }

            // Gírias regionais como no código
            const girias = ["cara", "mano", "parceiro"];
            let giria = girias[Math.floor(Math.random() * girias.length)];
            
            if (userCity.includes("Belo Horizonte")) {
                giria = "uai";
            } else if (userCity.includes("Salvador")) {
                giria = "oxe";
            } else if (userCity.includes("Porto Alegre")) {
                giria = "tchê";
            } else if (userCity.includes("Recife")) {
                giria = "oxente";
            }

            const operadora = window.userOperadora || "sua operadora";

            // Stories CLT com salário de mais de 15k
            const cltStories = [
                `${cumprimento}, ${userName}! Parece que está aos redores de ${userCity}, conectado pela ${operadora}, e suponho que aí são ${hora}h${minutos.toString().padStart(2, '0')}. Que legal, parece ${clima.desc}, ${clima.temp} graus, detectei que está em um ${dispositivo} e hoje é ${nomeDia}, ${diaTexto}. E aí, ${giria}, eu ERA supervisor ganhando mais de R$ 15 mil, mas era ESCRAVO do horário! Hoje tenho automações que trabalham 24h, sites ultra rápidos usando CDN, a mesma tecnologia que Netflix e Amazon usam, vendendo mundialmente enquanto durmo. Você quer continuar na corrida dos ratos?`,
                
                `${cumprimento}, ${userName}! Que ${clima.desc} aí em ${userCity}, né? São ${hora}h${minutos.toString().padStart(2, '0')}, ${nomeDia}, ${diaTexto}. Vi que está num ${dispositivo} conectado pela ${operadora}. ${giria}, deixa eu te contar: eu ganhava R$ 15 mil+ como supervisor, achava que estava bem, mas era REFÉM do sistema! Hoje minhas automações faturam 24h usando tecnologia de CDN como Netflix. Você quer liberdade de verdade?`,
                
                `${cumprimento}, ${userName}! Detectei que está em ${userCity}, clima ${clima.desc} de ${clima.temp}°, são ${hora}h${minutos.toString().padStart(2, '0')} numa ${nomeDia}. ${giria}, eu ODIAVA segunda-feira mesmo ganhando mais de 15 mil! Era CLT, tinha que pedir licença até pra respirar. Hoje acordo quando quero, meus sites ultra rápidos vendem mundialmente. Tecnologia que Netflix usa, trabalhando enquanto durmo. Você quer a CHAVE DA LIBERDADE?`
            ];
            
            const story = cltStories[Math.floor(Math.random() * cltStories.length)];
            
            typeMessage(story, () => {
                document.getElementById('user-name').style.display = 'none';
                document.getElementById('chat-buttons').innerHTML = `
                    <button class="chat-btn" onclick="nextStep('liberdade')">💎 Quero LIBERDADE FINANCEIRA</button>
                    <button class="chat-btn" onclick="nextStep('tecnologia')">🚀 Quero Tecnologia Premium</button>
                    <button class="chat-btn" onclick="nextStep('tempo')">⏰ Quero Ser DONO do MEU TEMPO</button>
                    <button class="chat-btn primary" onclick="nextStep('tudo')">🔥 EU QUERO SOLUÇÕES PREMIUM!</button>
                `;
            });
        }

        function nextStep(problem) {
            conversationStep = 2;
            
            let giria = "";
            
            if (userCity.includes("Belo Horizonte")) {
                giria = "uai";
            } else if (userCity.includes("Salvador")) {
                giria = "oxe";
            } else if (userCity.includes("Porto Alegre")) {
                giria = "tchê";
            } else if (userCity.includes("Recife")) {
                giria = "oxente";
            }
            
            const responses = {
                'liberdade': giria ? 
                    `PERFEITO, ${userName}! ${giria}, liberdade é acordar sem despertador, viajar quando quiser, não ter chefe! Eu conquistei isso saindo de um salário de R$ 15 mil+ para automações que trabalham sozinhas. Enquanto o pessoal da CLT aí em ${userCity} está no trânsito, eu estou faturando deitado na rede!` :
                    `PERFEITO, ${userName}! Liberdade é acordar sem despertador, viajar quando quiser, não ter chefe! Eu conquistei isso saindo de um salário de R$ 15 mil+ para automações que trabalham sozinhas. Enquanto o pessoal da CLT aí em ${userCity} está no trânsito, eu estou faturando deitado na rede!`,
                    
                'tecnologia': giria ?
                    `ISSO AÍ, ${userName}! ${giria}, tecnologia de PRIMEIRA LINHA! Uso CDN igual Netflix e Amazon, sites que carregam em 0.3 segundos mundialmente! Saí de supervisor ganhando R$ 15 mil+ para ter a mesma infraestrutura dos gigantes da tecnologia. Você aí em ${userCity} merece o que há de melhor!` :
                    `ISSO AÍ, ${userName}! Tecnologia de PRIMEIRA LINHA! Uso CDN igual Netflix e Amazon, sites que carregam em 0.3 segundos mundialmente! Saí de supervisor ganhando R$ 15 mil+ para ter a mesma infraestrutura dos gigantes da tecnologia. Você aí em ${userCity} merece o que há de melhor!`,
                    
                'tempo': giria ?
                    `EXATO, ${userName}! ${giria}, tempo é nossa única moeda real! Na CLT eu ganhava mais de R$ 15 mil mas vendia 8h do meu dia. Hoje tenho sistemas que trabalham 24h por mim. Enquanto durmo, eles vendem. Enquanto viajo, eles prospectam. ISSO é vida!` :
                    `EXATO, ${userName}! Tempo é nossa única moeda real! Na CLT eu ganhava mais de R$ 15 mil mas vendia 8h do meu dia. Hoje tenho sistemas que trabalham 24h por mim. Enquanto durmo, eles vendem. Enquanto viajo, eles prospectam. ISSO é vida!`,
                    
                'tudo': giria ?
                    `MONSTRUOSO, ${userName}! ${giria}, essa é a mentalidade VENCEDORA! Você não quer só um bom salário, quer TUDO: liberdade, tecnologia de ponta e tempo! Assim como eu saí dos R$ 15 mil+ da CLT para conquistar TUDO. Você tem perfil de CAMPEÃO!` :
                    `MONSTRUOSO, ${userName}! Essa é a mentalidade VENCEDORA! Você não quer só um bom salário, quer TUDO: liberdade, tecnologia de ponta e tempo! Assim como eu saí dos R$ 15 mil+ da CLT para conquistar TUDO. Você tem perfil de CAMPEÃO!`
            };
            
            typeMessage(responses[problem], () => {
                document.getElementById('chat-buttons').innerHTML = `
                    <button class="chat-btn primary" onclick="goToMarcelo()">🔥 QUERO FALAR COM MARCELO AGORA!</button>
                    <button class="chat-btn" onclick="showPrices()">💳 Ver Investimento Primeiro</button>
                    <button class="chat-btn" onclick="skipChat()">🤔 Vou Pensar Mais Um Pouco</button>
                `;
            });
        }

        function showPrices() {
            let giria = "";
            
            if (userCity.includes("Belo Horizonte")) {
                giria = "uai";
            } else if (userCity.includes("Salvador")) {
                giria = "oxe";
            } else if (userCity.includes("Porto Alegre")) {
                giria = "tchê";
            } else if (userCity.includes("Recife")) {
                giria = "oxente";
            }
            
            const message = giria ? 
                `Perfeito, ${userName}! ${giria}, vou ser TRANSPARENTE total contigo. Tenho 3 soluções profissionais: R$ 497 para automação WhatsApp Business completa, R$ 1.497 para website ultra rápido com CDN global, ou R$ 2.997 para consultoria VIP com tudo incluso. Qual faz mais sentido para seu negócio?` :
                `Perfeito, ${userName}! Vou ser TRANSPARENTE total contigo. Tenho 3 soluções profissionais: R$ 497 para automação WhatsApp Business completa, R$ 1.497 para website ultra rápido com CDN global, ou R$ 2.997 para consultoria VIP com tudo incluso. Qual faz mais sentido para seu negócio?`;
            
            typeMessage(message, () => {
                document.getElementById('chat-buttons').innerHTML = `
                    <button class="chat-btn" onclick="selectService(1)">💬 R$ 497 - WhatsApp Business</button>
                    <button class="chat-btn" onclick="selectService(2)">🚀 R$ 1.497 - Website Premium</button>
                    <button class="chat-btn" onclick="selectService(3)">👑 R$ 2.997 - Consultoria VIP</button>
                    <button class="chat-btn primary" onclick="goToMarcelo()">🎯 FALAR DIRETO COM MARCELO</button>
                `;
            });
        }

        function selectService(service) {
            const services = {
                1: "automação WhatsApp Business completa",
                2: "website ultra rápido com CDN global", 
                3: "consultoria VIP com automação completa"
            };
            
            typeMessage(`ESCOLHA FANTÁSTICA, ${userName}! O ${services[service]} vai transformar completamente seu negócio! Vou te conectar com o Marcelo AGORA MESMO para começarmos! 🚀🔥`, () => {
                setTimeout(() => {
                    redirectToProduct(service);
                    closeChat();
                }, 2500);
            });
        }

        function goToMarcelo() {
            let giria = "";
            
            if (userCity.includes("Belo Horizonte")) {
                giria = "uai";
            } else if (userCity.includes("Salvador")) {
                giria = "oxe";
            } else if (userCity.includes("Porto Alegre")) {
                giria = "tchê";
            } else if (userCity.includes("Recife")) {
                giria = "oxente";
            }
            
            const message = giria ?
                `PERFEITO, ${userName}! ${giria}, você tem CORAGEM para mudar de vida! Te mandando direto para o Marcelo. Fala que a IA te mandou e que você quer sair dos R$ 15 mil+ da CLT para ter AUTOMAÇÕES que trabalham 24h como Netflix! 🔥💎` :
                `PERFEITO, ${userName}! Você tem CORAGEM para mudar de vida! Te mandando direto para o Marcelo. Fala que a IA te mandou e que você quer sair dos R$ 15 mil+ da CLT para ter AUTOMAÇÕES que trabalham 24h como Netflix! 🔥💎`;
            
            typeMessage(message, () => {
                setTimeout(() => {
                    const message = encodeURIComponent(`Oi Marcelo! Sou ${userName} de ${userCity}. Sua IA me mandou! Quero SAIR DA CLT e conhecer as automações com tecnologia Netflix que trabalham 24h! Estou PRONTO para mudar de vida! 🚀`);
                    window.open(`https://wa.me/5511999999999?text=${message}`, '_blank');
                    closeChat();
                }, 2500);
            });
        }

        function skipChat() {
            typeMessage(`Entendo, ${userName || 'amigo'}! Decisões importantes precisam de reflexão. Os serviços estão logo abaixo. Quando estiver pronto para MUDAR DE VIDA e sair da CLT, estarei aqui te esperando! 💙✨`, () => {
                setTimeout(closeChat, 4000);
            });
        }

        function redirectToProduct(productNumber) {
            const productUrls = {
                1: '/automacao-whatsapp-business',
                2: '/website-ultra-rapido-cdn',
                3: '/consultoria-vip-automacao'
            };
            
            const productNames = {
                1: 'Sistema de Automação WhatsApp Business',
                2: 'Website Ultra Rápido + CDN Global',
                3: 'Consultoria VIP: Automação Completa'
            };
            
            // Por enquanto, redireciona para WhatsApp com informações do produto
            const message = encodeURIComponent(`Oi Marcelo! Sou ${userName || 'visitante'} de ${userCity}. Tenho interesse no ${productNames[productNumber]}. Vim através do seu site premium!`);
            window.open(`https://wa.me/5511999999999?text=${message}`, '_blank');
            
            // Quando tiver as páginas, descomente a linha abaixo:
            // window.location.href = productUrls[productNumber];
        }

        document.getElementById('user-name').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                startChat();
            }
        });

        window.addEventListener('load', () => {
            setTimeout(() => {
                if (speechSynthesis.getVoices().length === 0) {
                    speechSynthesis.addEventListener('voiceschanged', initVoices);
                } else {
                    initVoices();
                }
                getLocationData();
                
                setTimeout(() => {
                    openChat();
                }, 3500);
            }, 1200);
        });

        document.addEventListener('click', function initSpeech() {
            if (speechSynthesis.getVoices().length === 0) {
                speechSynthesis.speak(new SpeechSynthesisUtterance(''));
            }
            document.removeEventListener('click', initSpeech);
        });
    </script>
</body>
</html>
